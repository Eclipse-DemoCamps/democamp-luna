<!-- intro @ /Users/birken/Documents/pgm/remix/github/examples/org.nanosite.remix.revealjs/modules/revealjs/reveal_intro.html -->
<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Franca and IoT</title>

		<meta name="description" content="reveal.js presentation generated by remix">
		<meta name="author" content="Dr. Klaus Birken">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/moon.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
		
		
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

<!-- disclaimer_kbirken @ /Users/birken/Documents/Presentations/modules/org.nanosite.remix.library/modules/legal/disclaimer_kbirken.html -->
<!--
	This slide-set has been created by Klaus Birken.
	Copyright (c) Klaus Birken, 2013, 2014.
	
	The slides are not in the public domain and
	may not be used without the agreement of their author.
-->

<!-- title @ /Users/birken/Documents/Presentations/modules/org.nanosite.remix.presentations/presentations/140702_DemoCampLuna/10-title.html -->
<section>
	<h2>Building HTML5 User Interfaces<br/>with Franca for IoT devices</h2>
	<p>
		Tamas Szabo and Klaus Birken<br/>itemis AG<br/>
	</p>
	<p>
		<small>Eclipse DemoCamp Luna, Stuttgart</small>
	</p>
</section>

<!-- copy_resources @ /Users/birken/Documents/Presentations/modules/org.nanosite.remix.library/modules/photos/dummy.html -->

<!-- dummy section, resources of photos-module will be copied here -->

<!-- preslib @ /Users/birken/Documents/Presentations/modules/org.nanosite.remix.library/modules/libs/preslib.html -->

<script type="text/javascript" src="resources/d3.v3.min.js"></script>


<script type="text/javascript">

// ****************************************************

// A HISTORY/ROADMAP LIKE DIAGRAM

function showHistoryDiagram (host, height, width, data, arrowclass) {
	var rad2deg = 180/Math.PI;
	
	var alen = Math.sqrt(height * height + width * width) * 1.1;
	var aang = Math.atan(-height/width) * rad2deg;
	var arr = host.append("svg:g")
		.attr("class", arrowclass)
		.attr("transform", "translate(-20," + height + ")rotate(" + aang + ")");
	
	arr.append("path")
		.attr("d", pathArrow(alen, 60, 30));
		
	var lines = host.append("svg:g")
	var items = lines.selectAll("g")
		.data(data).enter().append("g")
	
	var x = d3.scale.linear().domain([-1, history.length]).range([0, width]);
	var y = d3.scale.linear().domain([-1, history.length]).range([height, 0]);
	
	var radius = 20
	items.attr("class", "history")
		.attr("transform", function(d,idx) {
			return "translate(" + x(idx) + "," + y(idx) + ")";
		});
	
	items.append("svg:circle")
		.attr("r", radius)
	
	items.append("svg:text")
		.attr("x", radius*2)
		.attr("y", radius - 10)
		.attr("font-size", "24px")
		.attr("font-weight", "bold")
		.text(function(d) { return (d.when!="" ? d.when + ": " : "") + d.what; });
}


// ****************************************************

// A BOXES & ARROWS DIAGRAM

function showBoxesAndArrows (host, data) {

	var boxes = data.boxes;
	var arrows = data.lines;
	var size = data.size;
	var boxWidth = (data.width>0) ? data.width : size*2;
	var boxHeight = (data.height>0) ? data.height : size;
	var clazz = data.clazz;
	
	var portpos = [
		{ dx:0.5, dy:0.5 }, // mid
		{ dx:0.5, dy:0.0 }, // north
		{ dx:1.0, dy:0.5 }, // east
		{ dx:0.5, dy:1.0 }, // south
		{ dx:0.0, dy:0.5 }  // west
	];

	// compute map for finding box from idx 
	var node = {};
	for(var i in boxes) {
		node[boxes[i].id] = i
	}
	
	// compute geometric data for arrows
	for(var i in arrows) {
		//console.log("arrow " + i);
		var a = arrows[i];
		var b1 = boxes[node[a.i1]];
		var b2 = boxes[node[a.i2]];
		
		// compute port ids, if not available
		var haveP1 = a.hasOwnProperty('p1');
		var haveP2 = a.hasOwnProperty('p2');
		var bx = b2.x - b1.x;
		var by = b2.y - b1.y;
		if (! (haveP1 && haveP2)) {
			var p1 = 0;
			var p2 = 0;
			if (Math.abs(bx) > Math.abs(by)) {
				// components are horizontal neighbors
				if (bx>0) {
					p1 = 2; p2 = 4;
				} else {
					p1 = 4; p2 = 2;
				}
			} else {
				// components are vertical neighbors
				if (by>0) {
					p1 = 3; p2 = 1;
				} else {
					p1 = 1; p2 = 3;
				}
			}
			if (!haveP1) a.p1 = p1;
			if (!haveP2) a.p2 = p2;
		}
		
		var p1 = getPortPos(b1, a.p1);
		var p2 = getPortPos(b2, a.p2);
		a.x0 = p1.x;
		a.y0 = p1.y;
		a.dx = p2.x - p1.x;
		a.dy = p2.y	- p1.y;
		
		if (Math.abs(a.dx) < Math.abs(a.dy)) {
			a.mx = 20
			a.my = a.dy / 2
			a.anchor = "start"
		} else {
			a.mx = a.dx / 2
			a.my = -25
			a.anchor = "middle"
		}
	}
	
	var all = host.append("svg:g").attr("class", clazz);
	var rectGroup = all.append("svg:g");
	var connGroup = all.append("svg:g");
	
	var rects = rectGroup.selectAll("g")
		.data(boxes).enter().append("g");
	
	rects.attr("class", function (d) { return d.clazz; })
		.attr("transform", function(d) {
			return "translate(" + (size*d.x) + "," + (size*d.y) + ")";
		});
	
	rects.append("svg:rect")
		.attr("width", boxWidth)
		.attr("height", boxHeight);
	
	rects.append("svg:text")
		.attr("x", boxWidth/2)
		.attr("y", boxHeight/2 + 10)
		.attr("text-anchor", "middle")
		.attr("font-size", "24px")
		.attr("font-weight", "bold")
		.text(function(d) { return d.name; });
	
	var conns = connGroup.selectAll("g")
		.attr("class", "what")
		.data(arrows).enter().append("g");
	
	conns.attr("class", "arrow")
		.attr("transform", function(d, i) {
			//console.log("arrow " + i + " translate " + d.x0 + " " + d.y0);
			return "translate(" + d.x0 + "," + d.y0 + ")";
		});
	
	conns.append("svg:text")
		.attr("x", function(d) { return d.mx; })
		.attr("y", function(d) { return d.my; })
		.attr("text-anchor", function(d) { return d.anchor; })
		.attr("font-size", "24px")
		.attr("font-weight", "bold")
		.text(function(d) { return d.label; });
	
	var arr = conns.append("svg:g")
		.attr("class", function (d) { return d.clazz; })
		.attr("transform", function (d) {
					return "rotate(" + xy2al(d.dx, d.dy, 1.0).angle + ")";
				})
		.append("path")
			.attr("d", function (d) {
					var arrowLength = xy2al(d.dx, d.dy, 1.0).len;
					if (d.bidirectional)
						return pathArrow2(arrowLength, 20, 20);
					else
						return pathArrow(arrowLength, 20, 20);
				});
	
	function getPortPos (box, port) {
		var x = box.x * size + portpos[port].dx * boxWidth;
		var y = box.y * size + portpos[port].dy * boxHeight;
		//console.log("box " + box.name + ": port " + port + " is here: " +
		//	" x=" + x + " y=" + y);
		return {x:x, y:y};
	}
	
	//return all[0].getBBox();
}


function xy2al (dx, dy, factor) {
	var rad2deg = 180/Math.PI;
	var l = Math.sqrt(dx * dx + dy * dy) * factor;
	var a = Math.atan2(dy, dx) * rad2deg;
	return { angle:a, len:l };
}



// ****************************************************

// SVG-PATH-BASED SHAPES

// arrow with one tip
function pathArrow(length, width, tip) {
	// a horizontal arrow from left to right
	var w = width/2;
	var tiplen = (width+2*tip)/2;
	var x1 = length - tiplen;
	var path = ["M", 0, ",", w];
	path.push("L", x1, ",", w);
	path.push("L", x1, ",", w+tip);
	path.push("L", length, ",", 0);
	path.push("L", x1, ",", -(w+tip));
	path.push("L", x1, ",", -w);
	path.push("L", 0, ",", -w);
	path.push("Z");
	return path.join("");
}

// arrow with tips in both directions
function pathArrow2(length, width, tip) {
	// a horizontal arrow from left to right
	var w = width/2;
	var tiplen = (width+2*tip)/2;
	var x0 = tiplen;
	var x1 = length - tiplen;
	var path = ["M", x0, ",", w];
	path.push("L", x1, ",", w);
	path.push("L", x1, ",", w+tip);
	path.push("L", length, ",", 0);
	path.push("L", x1, ",", -(w+tip));
	path.push("L", x1, ",", -w);
	path.push("L", x0, ",", -w);
	path.push("L", x0, ",", -(w+tip));
	path.push("L", 0, ",", 0);
	path.push("L", x0, ",", w+tip);
	path.push("Z");
	return path.join("");
}

</script>

<!-- Overview generated by remix -->
<section>
	<h2>Overview</h2>
	<ol>
		<li>Franca Overview</li>
		<li>Internet of Things</li>
		<li>Franca/IoT showcase</li>
		<li>Demo</li>
		<li>Summary and next steps</li>
	</ol>
</section>

<section>
	<h2>Franca Overview</h2>
	<hr>
	<img width="400" src="resources/IMG_fra_01.png">
</section>

<!-- franca_basics @ /Users/birken/Documents/Presentations/modules/org.nanosite.remix.presentations/presentations/140702_DemoCampLuna/20-franca_basics.html -->
<section>
	<h2>Franca</h2>
	<table>
	<tr><td width="80%">
		<ul>
			<li>is a tool environment for definition and transformation
			of software interfaces</li>
			<li>has been designed to facilitate software and system integration</li>
			<li>is running on the Eclipse platform</li>
			<li>is an open-source project hosted on Eclipse Labs since early 2012</li>
			<li>has been proposed as an
				<a href="http://www.eclipse.org/proposals/modeling.franca/">official Eclipse Project</a></li>
		</ul>
	</td><td>
	<img
		src="resources/Franca-Logo-Icon_120x120.png"
		style="vertical-align:bottom" />
	</td></tr>
	</table>
</section>


<section>
	<h2>A brief history of Franca</h2>
	<div id="history" />
</section>


<style type="text/css">
.arrow_history path {
  fill: blue;
  stroke: black;
  stroke-width: 1.5px;
}

.history circle {
	fill: darkgrey;
}

.history text {
	fill: lightgrey;
}
</style>

<script type="text/javascript">
var svg = d3.select("#history").insert("svg:svg", "form")
    .attr("width", 1200)
    .attr("height", 800);

var history = [
	{ when: "July 2011", what: 'GENIVI consortium starts topic "Common IDL"' },
//	{ when: "October 2011", what: 'Start of prototype implementation of Franca' },
	{ when: "November 2011", what: 'Initial release of Franca' },
	{ when: "March 2012", what: 'Franca published as OSS on EclipseLabs' },
//	{ when: "December 2012", what: 'First non-Automotive applications' },
	{ when: "March 2013", what: 'Common API C++' },
//	{ when: "October 2013", what: 'Contracts, UI improvements, tool integrations' },
	{ when: "November 2013", what: 'Eclipse project proposal' }
];

var h = svg.append("svg:g")
	.attr("transform", "translate(50,50)");
	
showHistoryDiagram(h, 500, 200, history, "arrow_history");

</script>


<section>
	<h2>Franca feature overview</h2>
	<p>
		<img src="resources/franca_feature_overview.png" />
	</p>
</section>


<section>
	<h2>An example interface definition</h2>
	<img src="resources/ui_interface_screenshot.png" width="450px" />
</section>

<!-- websockets @ /Users/birken/Documents/Presentations/modules/org.nanosite.remix.library/modules/franca_examples/20-websockets.html -->
<section>

<section>
	<h2>Architecture of product with HTML5 UI</h2>
	<br/>
	<p>HTML5 UI connected to (embedded) application component(s).</p>
	<br/>
	<div id="html5_product_arch"/>
</section>

<section>
	<h2>HTML5 UI supported by Franca</h2>
	<br/>
	<ul>
	<li>Idea: Generate JS and C++ bindings from Franca interface</li>
	<li>UI and application do not have to care about communication details.</li>
	<li>Client: HTML5, CSS and JS</li>
	<li>Server 1: Node.js and JS</li>
	<li>Server 2: CommonAPI and C++</li>
	<li>Server 3: ...</li>
	</ul>
</section>


<section>
	<h2>Using WebSockets for IPC</h2>
	<br/>
	<ul>
	<li>WebSockets is a
	    <a href="http://tools.ietf.org/html/rfc6455">standard</a>
	    (IETF RFC 6455)</li>
	<li>bidirectional, low-latency, message-based</li>
	<li>quite low-level, only provides raw messaging</li>
	</ul>
</section>

<section>
	<h2>Using WAMP as a standard protocol</h2>
	<br/>
	<ul>
	<li>WebSocket Application Messaging Protocol</li>
	<li><a href="http://www.iana.org/assignments/websocket/websocket.xml#subprotocol-name">officially registered</a>
	    WebSocket subprotocol</li>
	<li>higher level messaging patterns: RPC and publish/subscribe</li>
	<li>uses WebSockets, JSON and URIs</li>
	</ul>
</section>

<section>
	<h2>HTML5 UI with Franca: Comm. Stack</h2>
	<br/>
	<div id="showcase_stack"/>
	<p><small>Architecture. The yellow layer is generated from Franca interfaces.</small></p>
</section>


<section>
	<h2>Benefits of using Franca for HTML5 UI</h2>
	<br/>
	<ul>
	<li>Clear, reusable interface definitions</li>
	<li>Easy-to-use generated APIs</li> 
	<li>Multi-modal UI support (e.g., Speech, Gestures)</li>
	<li>Flexible server implementation (incl. remote)</li>
	<li>Additional tools can be used (e.g. contracts)</li>
	</ul>
</section>


</section>


<!-- CSS and JS code for diagrams -->

<style type="text/css">
.tabletwo td {
	padding: 20px;
	vertical-align: top;
    text-align: center;
}
.websockets rect {
  fill: orange;
  stroke: black;
  stroke-width: 1.5px;
}
.gen rect {
  fill: yellow;
  stroke: black;
  stroke-width: 1.5px;
}
.ipc rect {
  fill: lightyellow;
  stroke: black;
  stroke-width: 1.5px;
}
.desc rect {
  fill: none;
  stroke: none;
}
.desc text {
	fill: lightgrey;
}
.button1 {
	background-color: lightyellow;
	color: black;
	font-size: 32px;
	border-radius: 6px;
	border: none;
	
	// fixed width
	display: inline-block;
	min-width: 250px;
	width: 250px;
	padding:5px 10px;
}
</style>


<script src="resources/modernizr.custom.61082.js"></script>
<script src="resources/raphael.min.js"></script>
<script src="resources/raphael.tachometer.min.js"></script>
<script src="resources/SimpleUIProxy.js"></script>

<script type="text/javascript">
var svg0 = d3.select("#html5_product_arch").insert("svg:svg", "form")
    .attr("width", 360)
    .attr("height", 400);

showBoxesAndArrows(svg0, {
	boxes : [
		{ id:1, x:0, y:0, name:"HTML5 UI (with JS)" },
		{ id:2, x:0, y:2, name:"Application components", clazz:"ipc" }
	],
	lines : [
		{ i1:1, i2:2, label:"IPC" }
	],
	size : 110,
	width : 320,
	clazz : "websockets"
});

var svg1 = d3.select("#showcase_stack").insert("svg:svg", "form")
    .attr("width", 720)
    .attr("height", 500);

showBoxesAndArrows(svg1, {
	boxes : [
		{ id:1, x:0, y:0, name:"HTML5 UI (with JS)" },
		{ id:2, x:0, y:1, name:"JS Proxy Layer (generated)", clazz:"gen" },
		{ id:3, x:0, y:2, name:"WAMP/Websockets", clazz:"ipc" },
		{ id:4, x:4, y:2, name:"WAMP/Websockets", clazz:"ipc" },
		{ id:5, x:4, y:1, name:"Stub Layer (generated)", clazz:"gen" },
		{ id:6, x:4, y:0, name:"Node.js Server Impl." },

		{ id:7, x:0, y:3, name:"Client", clazz:"desc" },
		{ id:8, x:4, y:3, name:"Server", clazz:"desc" }
	],
	lines : [
		{ i1:3, i2:4, label:"", bidirectional:true }
	],
	size : 100,
	width : 320,
	clazz : "websockets"
});

var svg2 = d3.select("#commonapi_stack").insert("svg:svg", "form")
    .attr("width", 720)
    .attr("height", 500);

showBoxesAndArrows(svg2, {
	boxes : [
		{ id:1, x:0, y:0, name:"HTML5 UI (with JS)" },
		{ id:2, x:0, y:1, name:"JS Proxy Layer (generated)", clazz:"gen" },
		{ id:3, x:0, y:2, name:"WAMP/Websockets (JS)", clazz:"ipc" },
		{ id:4, x:4, y:2, name:"WAMP/Websockets (C/C++)", clazz:"ipc" },
		{ id:5, x:4, y:1, name:"Stub Layer (generated)", clazz:"gen" },
		{ id:6, x:4, y:0, name:"Common API Server Impl." },

		{ id:7, x:0, y:3, name:"Client", clazz:"desc" },
		{ id:8, x:4, y:3, name:"Server", clazz:"desc" }
	],
	lines : [
		{ i1:3, i2:4, label:"", bidirectional:true }
	],
	size : 100,
	width : 320,
	clazz : "websockets"
});


// script for embedded demo

var tacho = Raphael("tacho", 300, 300).tachometer(0, {
	interactive: true,
	needleAnimationEasing: "linear", // or: <>, bounce, elastic
	needleAnimationDuration: 500,
	numberMax: 160,
	longScaleCount: 8,
	shortScaleCount: 80,
	numberUnit: " km/h"
});
	
// this fixes a tachometer layout issue on WebKit (Chrome, Safari)
var elems = document.getElementsByTagName('tspan');
for(var i = 0; i < elems.length; i++) {
	elems[i].setAttribute('dy', 0);
}

// initialize proxy for SimpleUI interface
var proxy = new SimpleUIProxy();
proxy.connect('ws://localhost:8181');

proxy.onOpened = function() {
	proxy.subscribeClockChanged();
}

// register callback for SimpleUI.onChangedClock() updates
proxy.onChangedClock = function(clock) {
	document.getElementById('tClock').innerHTML = clock;
};

// register callback for SimpleUI.playingTitle() broadcast
proxy.signalPlayingTitle = function(title) {
	document.getElementById('current-title').innerHTML = title;
};

proxy.signalUpdateVelocity = function(velocity) {
	tacho.set(velocity);
};

// connect UI buttons with playMusic() calls
onClick("m1", function() { proxy.playMusic(Genre.M_NONE); });
onClick("m2", function() { proxy.playMusic(Genre.M_POP); });
onClick("m3", function() { proxy.playMusic(Genre.M_TECHNO); });
	

function onClick(buttonId, func) {
	document.getElementById(buttonId).addEventListener("click",
		func,
		false);
}

</script>

<section>
	<h2>Internet of Things</h2>
	<hr>
	<img width="400" src="resources/IMG_fra_02.png">
</section>

<!-- mqtt @ /Users/birken/Documents/Presentations/modules/org.nanosite.remix.presentations/presentations/140702_DemoCampLuna/30-mqtt.html -->

<section>
	<h2>Internet of Things</h2>
	<ul>
		<li>Let's connect all different kinds of things together within the Internet</li>
		<li>Not just laptops and mobile phones, but all kinds of sensors and devices</li>
		<li>Advanced connectivity of devices, more than simple M2M communication</li>
	</ul>
</section>

<section>
	<h2>MQTT</h2>
	<ul>
		<li>Message Queue Telemetry Transport</li>
		<li>Publish-subscribe based messaging protocol</li>
		<li>Light-weight (small message overhead)</li>
		<li>Based on the TCP/IP protocol</li>
		<li>Various QoS for message delivery (at least once, at most once, exactly once)</li>
		<li>Designed to be usable in constrained environments</li>
		<li>Mosquitto: Message broker implementation</li>
	</ul>
</section>

<section>
	<img src="resources/EclipsePahoLogo.png" width="400" />
	<ul>
		<li>Open-source Eclipse project</li>
		<li>MQTT Client implementation</li>
		<li>Various languages (JS, Java, C/C++, Lua)</li>
	</ul>
</section>

<section>
	<h2>Franca/IoT showcase</h2>
	<hr>
	<img width="400" src="resources/IMG_fra_03.png">
</section>

<!-- franca_iot @ /Users/birken/Documents/Presentations/modules/org.nanosite.remix.presentations/presentations/140702_DemoCampLuna/40-franca_iot.html -->

<section>
	<h2>The Franca/IoT showcase</h2>
	<ul>
	<li>Robot arm as IoT device 
		<ul>
		<li>access via MQTT topics</li>
		</ul>
	</li>
	<li>HTML5 user interface for controlling the robot arm</li>
		<ul>
		<li>direct control, and</li>
		<li>example high-level application</li>
		</ul>
	</li>
	<li>Franca
		<ul>
		<li>define interfaces between UI and application</li>
		<li>generate code for WebSocket communication</li>
		</ul>
	</li>
	</ul>
</section>

<section>
	<h2>Showcase architecture</h2>
	<p>
	<img src="resources/franca_iot_showcase_design.png"/>
	</p>
</section>


<section>
	<h2>Demo</h2>
	<hr>
	<img width="400" src="resources/IMG_fra_04.png">
</section>

<section>
	<h2>Summary and next steps</h2>
	<hr>
	<img width="400" src="resources/IMG_6391.jpg">
</section>

<!-- summary @ /Users/birken/Documents/Presentations/modules/org.nanosite.remix.presentations/presentations/140702_DemoCampLuna/90-summary.html -->

<section>
	<h2>Final points</h2>
	<ul>
	<li>Benefits of using Franca
		<ul>
		<li>application logic could be designed independently from implementation</li>
		<li>part of the implementation could be generated automatically</li>
		<li>eases the integration of components from different domains, e.g., UI and IoT
		    (1h in our case)</li>
		</ul>
	</li>
	<li>Future work
		<ul>
		<li>automatic generation of Franca/MQTT connector</li>
		<li>add more IoT devices to the example (sensors, ...)</li>
		</ul>
	</ul>
</section>


<section>
	<p>
	<img src="resources/franca_feature_overview.png" width="300px" height="250px" />
	&nbsp;
	<img src="resources/EclipsePahoLogo.png" width="300px" height="250px" />
	</p>
	<h3>Thanks for your attention!</h3>
	<p>
	<img src="resources/franca_iot_showcase_design.png" width="300px" height="250px" />
	&nbsp;
	<img src="resources/Robo1.jpg" width="300px" height="250px" />
	</p>
</section>


<!-- extro @ /Users/birken/Documents/pgm/remix/github/examples/org.nanosite.remix.revealjs/modules/revealjs/reveal_extro.html -->


			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>

